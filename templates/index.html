<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Ã–n Muhasebe UygulamasÄ±</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1>Ã–n Muhasebe UygulamasÄ±</h1>
        <div id="auth-section">
            <h2>GiriÅŸ</h2>
            <input type="text" id="email" placeholder="KullanÄ±cÄ± AdÄ±">
            <input type="password" id="password" placeholder="Åifre">
            <button onclick="login()">GiriÅŸ Yap</button>
            <div id="auth-message"></div>
            <div class="auth-info">
                <p><small>Sadece yetkili kullanÄ±cÄ±lar giriÅŸ yapabilir.</small></p>
            </div>
        </div>
        <div id="main-section" style="display:none;">
            <div class="menu">
    <button class="tab-btn active" onclick="showTab('dashboard')">Ana Sayfa</button>
    <button class="tab-btn" onclick="showTab('companies')">Åirketler</button>
    <button class="tab-btn" onclick="showTab('invoices')">Faturalar</button>
    <button class="tab-btn" onclick="showTab('reports')">Raporlar</button>
</div>
            <div id="tab-dashboard" class="tab-content" style="display:block;">
    <h2>HoÅŸgeldiniz!</h2>
    <p>Bu Ã¶n muhasebe uygulamasÄ± ile ÅŸirketlerinizi, faturalarÄ±nÄ±zÄ± ve raporlarÄ±nÄ±zÄ± kolayca yÃ¶netebilirsiniz.</p>
    <div class="dashboard-cards">
    <div class="card card-companies" onclick="showTab('companies')">
        <div class="card-icon">ğŸ¢</div>
        <h3>Åirketler</h3>
        <div class="card-summary" id="summary-companies">Toplam: <span>0</span></div>
        <p>Åirketlerinizi ekleyin ve yÃ¶netin.</p>
    </div>
    <div class="card card-invoices" onclick="showTab('invoices')">
        <div class="card-icon">ğŸ“„</div>
        <h3>Faturalar</h3>
        <div class="card-summary" id="summary-invoices">Toplam: <span>0</span></div>
        <div class="card-detail" id="summary-last-invoice">Son fatura: <span>-</span></div>
        <p>FaturalarÄ±nÄ±zÄ± gÃ¶rÃ¼ntÃ¼leyin ve yeni fatura ekleyin.</p>
    </div>
    <div class="card card-reports" onclick="showTab('reports')">
        <div class="card-icon">ğŸ“Š</div>
        <h3>Raporlar</h3>
        <div class="card-summary">KDV & Gelir-Gider</div>
        <p>Gelir-gider ve KDV raporlarÄ±nÄ±zÄ± alÄ±n.</p>
    </div>
</div>
</div>
<div id="tab-companies" class="tab-content" style="display:none;">
    <h2>Åirketlerim</h2>
    <input type="text" id="company-name" placeholder="Åirket AdÄ±">
    <button onclick="addCompany()">Åirket Ekle</button>
    <ul id="company-list"></ul>
</div>
<div id="tab-invoices" class="tab-content" style="display:none;">
    <h2>Faturalar</h2>
    <div id="invoice-company-select"></div>
    <div id="invoice-content" style="display:none;">
        <button onclick="showInvoiceModal()">+ Yeni Fatura</button>
        <table id="invoice-table">
            <thead>
                <tr>
                    <th>No</th><th>Tip</th><th>MÃ¼ÅŸteri/TedarikÃ§i</th><th>Tarih</th><th>Tutar</th><th>KDV OranÄ±</th><th>KDV TutarÄ±</th><th>Para Birimi</th><th>AÃ§Ä±klama</th><th></th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    <div id="invoice-empty" style="display:none; color:#b00; margin:20px 0;">LÃ¼tfen Ã¶nce bir ÅŸirket seÃ§in.</div>
</div>
            <div id="tab-reports" class="tab-content" style="display:none;">
    <h2>Raporlar</h2>
    <div id="report-controls">
        <label>Åirket: <select id="report-company-select"></select></label>
        <label>YÄ±l: <select id="report-year-select"></select></label>
        <label>Ay: <select id="report-month-select"><option value="">TÃ¼mÃ¼</option></select></label>
        <button onclick="loadReport()">Raporu GÃ¶ster</button>
    </div>
    <div id="report-kpis" class="dashboard-cards" style="margin:24px 0 18px 0;"></div>
    
    <h3>Son 10 Fatura</h3>
    <div id="report-last10-table"></div>
    
    <h3>AylÄ±k DetaylÄ± Rapor</h3>
    <div class="excel-table-container">
        <table id="monthly-detail-table" class="excel-table">
            <thead>
                <tr>
                    <th>Ay</th>
                    <th>Gelir</th>
                    <th>Gider</th>
                    <th>Net</th>
                    <th>KDV Gelir</th>
                    <th>KDV Gider</th>
                    <th>KDV Net</th>
                    <th>KDV OranlarÄ±</th>
                </tr>
            </thead>
            <tbody>
                <!-- JavaScript ile doldurulacak -->
            </tbody>
        </table>
    </div>
    
    <div class="export-buttons">
        <button onclick="exportToExcel()" class="export-btn">Excel'e Aktar</button>
        <button onclick="printReport()" class="export-btn">YazdÄ±r</button>
    </div>
    </div>
</div>
        </div>
        <!-- Fatura Ekleme Modal -->
        <div id="invoice-modal" class="modal" style="display:none;">
            <div class="modal-content">
                <span class="close" onclick="closeInvoiceModal()">&times;</span>
                <h3>Yeni Fatura Ekle</h3>
                <select id="modal-invoice-type">
                    <option value="gelen">Gelen Fatura</option>
                    <option value="giden">Giden Fatura</option>
                </select>
                <input type="text" id="modal-fatura-no" placeholder="Fatura No">
                <input type="text" id="modal-musteri-tedarikci" placeholder="MÃ¼ÅŸteri/TedarikÃ§i">
                <input type="date" id="modal-tarih">
                <input type="number" id="modal-tutar" placeholder="Tutar">
                <input type="number" id="modal-kdv-orani" placeholder="KDV OranÄ±">
                <input type="text" id="modal-aciklama" placeholder="AÃ§Ä±klama">
                <select id="modal-para-birimi">
                    <option value="PLN">PLN</option>
                    <option value="EUR">EUR</option>
                    <option value="USD">USD</option>
                </select>
                <button onclick="addInvoiceModal()">Fatura Kaydet</button>
            </div>
        </div>
        
        <!-- AylÄ±k Fatura Listesi Modal -->
        <div id="monthly-invoices-modal" class="modal" style="display:none;">
            <div class="modal-content modal-large">
                <span class="close" onclick="closeMonthlyInvoicesModal()">&times;</span>
                <h3 id="monthly-invoices-title">AylÄ±k Faturalar</h3>
                
                <div class="monthly-invoices-container">
                    <table id="monthly-invoices-table" class="full-width-table">
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Fatura No</th>
                                <th>Tip</th>
                                <th>MÃ¼ÅŸteri/TedarikÃ§i</th>
                                <th>Tarih</th>
                                <th>Tutar</th>
                                <th>KDV OranÄ±</th>
                                <th>KDV TutarÄ±</th>
                                <th>Para Birimi</th>
                                <th>AÃ§Ä±klama</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- JavaScript ile doldurulacak -->
                        </tbody>
                    </table>
                </div>
                
                <div class="pagination">
                    <button id="prev-page" onclick="changePage(-1)">&laquo; Ã–nceki</button>
                    <span id="page-info">Sayfa 1 / 1</span>
                    <button id="next-page" onclick="changePage(1)">Sonraki &raquo;</button>
                </div>
            </div>
        </div>
    </div>
    <script src="/static/app.js"></script>
</body>
</html>
